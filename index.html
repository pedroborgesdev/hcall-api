<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#10b981">
    <title>HCall API Docs</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="static/js/script.js"></script>
</head>

<body>
    <div class="documentation">
        <div id="sidebar-container"></div>

        <div id="overlay" class="overlay"></div>

        <button id="sidebar-toggle" class="sidebar-toggle">
            <i class="fas fa-bars"></i>
        </button>

        <main class="content">
            <section id="api-overview" class="section">
                <h2><i class="fas fa-book"></i> API Overview</h2>
                <p>The HCall API provides resources for user management, ticket creation, and status updates.
                    Communication is done via JWT token.</p>

                <h3 id="resources"><i class="fas fa-cubes"></i> Resources</h3>
                <ul>
                    <li>User Management</li>
                    <li>Ticket Creation</li>
                    <li>Status Updates</li>
                    <li>JWT Communication</li>
                </ul>

                <h3 id="base-url"><i class="fas fa-globe"></i> Base URL</h3>
                <pre><code class="language-text">https://api.hcall.com/v1</code></pre>

                <div class="section-spacer"></div>

                <h3 id="authentication-requirements"><i class="fas fa-lock"></i> Authentication Requirements</h3>
                <p>All endpoints, except <code>/user/create</code> and <code>/auth/login</code>, require a valid JWT
                    token. The token is passed via the Authorization header.</p>

                <h4><i class="fas fa-key"></i> Authorization Header</h4>
                <pre><code class="language-text">Authorization: Bearer &lt;your_token&gt;</code></pre>

                <h4><i class="fas fa-exclamation-triangle"></i> Unauthorized Access</h4>
                <p>If a token is invalid or expired, the API will return a <code>401 Unauthorized</code> status with the
                    following response:</p>
                <pre><code class="language-json">{
    "message": "Unauthorized",
    "status": false
}</code></pre>

                <h3 id="user-roles"><i class="fas fa-users-cog"></i> User Roles and Permissions</h3>
                <p>The API supports three user roles, each with different permission levels:</p>
                <ul>
                    <li><strong>User:</strong> Can create tickets, update their own tickets, and view their ticket
                        history</li>
                    <li><strong>Admin:</strong> Can do everything a User can, plus manage other users' tickets and view
                        all tickets</li>
                    <li><strong>Master:</strong> Can do everything an Admin can, plus create and remove users, including
                        other masters</li>
                </ul>
            </section>

            <section id="master-creation" class="section">
                <h2><i class="fas fa-crown"></i> Master Creation</h2>

                <div id="create-master-user" class="endpoint">
                    <h3><i class="fas fa-user-cog"></i> Create Master User</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/master/create</code>
                    </div>
                    <p>Creates a user with master privileges</p>
                    <p><strong>Authorized Roles:</strong> None (public endpoint)</p>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>This endpoint only works when there is no master user registered in the system yet.</li>
                        <li>Once a master user exists, the endpoint will be disabled.</li>
                    </ul>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "master_email": "master@example.com",
    "master_password": "StrongPassword123"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Master user has been created",
    "jwt_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Master Already Exists</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Master user already exists",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="delete-master-user" class="endpoint">
                    <h3><i class="fas fa-user-slash"></i> Delete Master User</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/master/delete</code>
                    </div>
                    <p>Removes a user with master privileges</p>
                    <p><strong>Authorized Roles:</strong> None (public endpoint)</p>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>This endpoint requires valid master credentials for the account to be deleted.</li>
                    </ul>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "user_email": "master@example.com",
    "user_password": "StrongPassword123"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Master user has been deleted",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Invalid Credentials</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid master credentials",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Master Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Master user not found",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="authentication" class="section">
                <h2><i class="fas fa-shield-alt"></i> Authentication</h2>

                <div id="login" class="endpoint">
                    <h3><i class="fas fa-sign-in-alt"></i> Login</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/auth/enter</code>
                    </div>
                    <p>Authenticates a user in the system</p>
                    <p><strong>Authorized Roles:</strong> None (public endpoint)</p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "user_email": "johndoe@example.com",
    "user_password": "Password123"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User has been loged in",
    "jwt_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Email Not Registered</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email aren't registered",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Incorrect Password</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Password is incorrect",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="register" class="endpoint">
                    <h3><i class="fas fa-user-plus"></i> Register</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/auth/register</code>
                    </div>
                    <p>Registers a new user in the system</p>
                    <p><strong>Authorized Roles:</strong> None (public endpoint)</p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "user_name": "John Doe",
    "user_email": "johndoe@example.com",
    "user_password": "Password123"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User has been registered",
    "jwt_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Email Already Exists</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email already exists",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Password</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Password is invalid",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="users">
                <h2><i class="fas fa-users"></i> Users</h2>

                <div id="get-user-information" class="endpoint">
                    <h3><i class="fas fa-info-circle"></i> Get User Information</h3>
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <code>/user/fetch</code>
                    </div>
                    <p>Retrieves information about a specific user or lists all users</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-search"></i> Query Parameters</h4>
                    <ul class="parameters">
                        <li><code>email</code>: User's email (optional, example: <code>email=johndoe@example.com</code>)
                        </li>
                        <li><code>role</code>: User's role (optional, example: <code>role=admin</code>)</li>
                    </ul>

                    <h4><i class="fas fa-check-circle"></i> Valid Role Values</h4>
                    <p><code>user</code>, <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-code"></i> Examples</h4>
                    <ul>
                        <li>List all users: <code>/user/fetch</code></li>
                        <li>Get specific user: <code>/user/fetch?email=johndoe@example.com</code></li>
                        <li>List users with specific role: <code>/user/fetch?role=admin</code></li>
                        <li>List specific user with role: <code>/user/fetch?email=johndoe@example.com&role=admin</code>
                        </li>
                    </ul>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>If <code>role</code> parameter is provided, only users with that role will be returned</li>
                        <li>If both <code>email</code> and <code>role</code> parameters are provided, the user must
                            match both criteria</li>
                    </ul>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "users": [
        {
            "user_name": "John Doe",
            "user_email": "johndoe@example.com",
            "user_role": "user"
        },
        {
            "user_name": "Jane Smith",
            "user_email": "janesmith@example.com",
            "user_role": "admin"
        }
    ],
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>User Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email aren't registered",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>No Users Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "No users found with specified role",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="create-user" class="endpoint">
                    <h3><i class="fas fa-user-plus"></i> Create User</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/user/create</code>
                    </div>
                    <p>Creates a new user in the system</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>Admin users can only create users with the "user" role</li>
                        <li>Master users can create users with any role (user or admin)</li>
                    </ul>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "user_name": "John Doe",
    "user_email": "johndoe@example.com",
    "user_password": "StrongPassword123",
    "user_role": "user"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User has been created",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Email Already Exists</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email already exists",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Data</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="remove-user" class="endpoint">
                    <h3><i class="fas fa-user-minus"></i> Remove User</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/user/delete</code>
                    </div>
                    <p>Removes a user from the system</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "user_email": "johndoe@example.com"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User has been deleted",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>User Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email aren't registered",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tickets">
                <h2><i class="fas fa-ticket-alt"></i> Tickets</h2>

                <div id="create-ticket" class="endpoint">
                    <h3><i class="fas fa-plus-circle"></i> Create Ticket</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/ticket/create</code>
                    </div>
                    <p>Creates a new ticket in the system</p>
                    <p><strong>Authorized Roles:</strong> <code>user</code>, <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "ticket_name": "Router Problem",
    "ticket_explain": "Need to configure the router in room 302",
    "ticket_images": [
        {
            "image_name": "router_front.jpg",
            "image_content": "base64_encoded_image_data...",
            "image_type": "image/jpeg"
        },
        {
            "image_name": "router_back.jpg",
            "image_content": "base64_encoded_image_data...",
            "image_type": "image/jpeg"
        }
    ]
}</code></pre>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>The <code>images</code> field is optional and can contain multiple images</li>
                        <li>Each image must include <code>name</code>, <code>content</code> (base64 encoded), and
                            <code>type</code> fields</li>
                        <li>Supported image types: <code>image/jpeg</code>, <code>image/png</code>,
                            <code>image/gif</code></li>
                        <li>Maximum file size per image: 5MB</li>
                        <li>Maximum number of images per ticket: 10</li>
                    </ul>

                    <h4>Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket has been created",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Admin role not authorized to create tickets",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Data</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Author Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Email aren't registered",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="update-ticket-status" class="endpoint">
                    <h3><i class="fas fa-edit"></i> Update Ticket Status</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/ticket/edit</code>
                    </div>
                    <p>Updates the status of an existing ticket</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "ticket_id": "ticket_123e4567-e89b-12d3-a456-426614174000",
    "ticket_status": "doing"
}</code></pre>

                    <h4><i class="fas fa-check-circle"></i> Valid Status Values</h4>
                    <p><code>pending</code>, <code>doing</code>, <code>conclued</code></p>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket status has been updated",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Ticket Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket hasn't found",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Data</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="update-ticket-history" class="endpoint">
                    <h3><i class="fas fa-history"></i> Update Ticket History</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/ticket/update</code>
                    </div>
                    <p>Adds a new entry to the ticket history</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "ticket_id": "ticket_123e4567-e89b-12d3-a456-426614174000",
    "ticket_history": "Requested additional information from the user"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket history has been updated",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Ticket Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket hasn't found",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Data</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>Updated history can be viewed through the <code>/ticket/info</code> endpoint</li>
                        <li>Each update is recorded with date and time</li>
                        <li>History is displayed in chronological order</li>
                    </ul>
                </div>

                <div id="list-tickets" class="endpoint">
                    <h3><i class="fas fa-list"></i> List Tickets</h3>
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <code>/ticket/fetch</code>
                    </div>
                    <p>Lists tickets from a specific author or all system tickets</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-search"></i> Query Parameters</h4>
                    <ul class="parameters">
                        <li><code>author</code>: Author's email (optional, example:
                            <code>author=johndoe@example.com</code>)</li>
                        <li><code>status</code>: Ticket status (optional, example: <code>status=pending</code>)</li>
                        <li><code>date</code>: Tickets that were created after the date (optional, example:
                            <code>date=2025-03-27</code>)</li>
                    </ul>

                    <h4><i class="fas fa-check-circle"></i> Valid Status Values</h4>
                    <p><code>pending</code>, <code>doing</code>, <code>conclued</code></p>

                    <h4><i class="fas fa-sticky-note"></i> Notes</h4>
                    <ul>
                        <li>If <code>status</code> parameter is not provided, tickets of all statuses will be returned
                        </li>
                        <li>If <code>author</code> parameter is not provided, tickets from all authors will be returned
                        </li>
                        <li>If <code>date</code> parameter is not provided, tickets from all dates will be returned</li>
                    </ul>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "tickets": [
        {
            "ticket_id": "ticket_123e4567-e89b-12d3-a456-426614174000",
            "ticket_name": "Printer Problem",
            "ticket_status": "pending",
            "ticket_author": "johndoe@example.com",
            "ticket_created_at": "2025-03-26T22:15:21.524765-03:00",
        },
        {
            "ticket_id": "ticket_123e4567-e89b-12d3-a456-426383883000",
            "ticket_name": "Life Problem",
            "ticket_status": "pending",
            "ticket_author": "johndoe@example.com",
            "ticket_created_at": "2025-03-26T22:15:21.524765-03:00",
        }
    ],
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>No Tickets Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Author don't have tickets",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Invalid Date Format</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid date format",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="count-tickets" class="endpoint">
                    <h3><i class="fas fa-table"></i> Get Tickets Count</h3>
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <code>/ticket/count</code>
                    </div>
                    <p>Get count of tickets</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "tickets_total": 5,
    "tickets_pending": 2,
    "tickets_doing": 3,
    "tickets_conclued": 0,
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="get-ticket-information" class="endpoint">
                    <h3><i class="fas fa-info-circle"></i> Get Ticket Information</h3>
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <code>/ticket/info</code>
                    </div>
                    <p>Retrieves detailed information about a specific ticket, including its complete history</p>
                    <p><strong>Authorized Roles:</strong> <code>admin</code>, <code>master</code></p>

                    <h4><i class="fas fa-search"></i> Query Parameters</h4>
                    <ul class="parameters">
                        <li><code>ticket_id</code>: Ticket ID (required, example:
                            <code>ticket_id=ticket_123e4567-e89b-12d3-a456-426614174000</code>)</li>
                    </ul>

                    <h4><i class="fas fa-code"></i> Examples</h4>
                    <ul>
                        <li>Get ticket information:
                            <code>/ticket/info?ticket_id=ticket_123e4567-e89b-12d3-a456-426614174000</code></li>
                    </ul>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "ticket_id": "ticket_028492wsd88178",
    "ticket_name": "Router Problem",
    "ticket_status": "doing",
    "ticket_explain": "Need to purchase new routers",
    "ticket_images": [
        {
            "image_id": "img_12345678",
            "image_name": "router_front.jpg",
            "image_url": "https://api.hcall.com/v1/images/img_12345678",
            "image_type": "image/jpeg",
            "image_uploaded_at": "2023-07-15T13:30:22Z"
        },
        {
            "image_image_id": "img_87654321",
            "image_name": "router_back.jpg",
            "image_url": "https://api.hcall.com/v1/images/img_87654321",
            "image_type": "image/jpeg",
            "image_uploaded_at": "2023-07-15T13:30:23Z"
        }
    ],
    "ticket_history": [
        {
            "ticket_return": "Purchasing routers",
            "ticket_date": "2023-07-15T14:30:45Z"
        },
        {
            "ticket_return": "Configuring notebook",
            "ticket_date": "2023-07-16T09:15:22Z"
        },
        {
            "ticket_return": "Clean screen",
            "ticket_date": "2023-07-17T11:45:30Z"
        }
    ],
    "ticket_date": "2025-03-27T22:37:14.722128-03:00",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Ticket Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket hasn't found",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>ID Not Provided</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Unauthorized Role</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User role not authorized for this endpoint",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="remove-ticket" class="endpoint">
                    <h3><i class="fas fa-trash-alt"></i> Remove Ticket</h3>
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <code>/ticket/remove</code>
                    </div>
                    <p>Removes a ticket from the system</p>
                    <p><strong>Authorized Roles:</strong> <code>user</code> (ticket author only), <code>admin</code>,
                        <code>master</code></p>

                    <h4><i class="fas fa-paper-plane"></i> Request Body</h4>
                    <pre><code class="language-json">{
    "ticket_id": "ticket_123e4567-e89b-12d3-a456-426614174000"
}</code></pre>

                    <h4><i class="fas fa-reply"></i> Responses</h4>
                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status success">200</span>
                                <span>Success</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket has been removed",
    "status": true
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">404</span>
                                <span>Ticket Not Found</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Ticket hasn't found",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">400</span>
                                <span>Invalid Data</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "Invalid data",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="response-container">
                        <div class="response-toggle">
                            <div class="response-toggle-left">
                                <span class="status error">403</span>
                                <span>Not Ticket Author</span>
                            </div>
                            <span class="arrow">▼</span>
                        </div>
                        <div class="response-content">
                            <div class="response">
                                <pre><code class="language-json">{
    "message": "User can only remove their own tickets",
    "status": false
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <div id="footer-container"></div>
    </div>

    <div id="overlay" class="overlay"></div>
    <button id="sidebar-toggle" class="sidebar-toggle"><i class="fas fa-bars"></i></button>
</body>

</html>